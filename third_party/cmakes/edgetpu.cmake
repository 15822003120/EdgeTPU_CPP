add_definitions(-DUSE_EDGETPU)

if(${ARCH_TYPE} STREQUAL armv7)
	message("[BUILD edgetpu] armv7")
	target_link_libraries(${ProjectName} ${CMAKE_CURRENT_LIST_DIR}/../edgetpu/libedgetpu/direct/armv7a/libedgetpu.so.1.0)
elseif(${ARCH_TYPE} STREQUAL aarch64)
	message("[BUILD edgetpu] aarch64")
	target_link_libraries(${ProjectName} ${CMAKE_CURRENT_LIST_DIR}/../edgetpu/libedgetpu/direct/aarch64/libedgetpu.so.1.0)
else()
	if(WIN32)
		message("[BUILD edgetpu] windows (x64)")
		target_link_libraries(${ProjectName} ${CMAKE_CURRENT_LIST_DIR}/../edgetpu/libedgetpu/direct/x64_windows/edgetpu.dll.if.lib)
	else()
		message("[BUILD edgetpu] linux (x64)")
		target_link_libraries(${ProjectName} ${CMAKE_CURRENT_LIST_DIR}/../edgetpu/libedgetpu/direct/k8/libedgetpu.so.1.0)
	endif()
endif()

if(WIN32)
	file(COPY ${CMAKE_CURRENT_LIST_DIR}/../edgetpu/libedgetpu/direct/x64_windows/edgetpu.dll DESTINATION ${CMAKE_CURRENT_BINARY_DIR})
else()
	file(COPY ${LIB_EDGETPU} DESTINATION ${CMAKE_CURRENT_BINARY_DIR})
endif()

target_include_directories(${ProjectName} PUBLIC ${CMAKE_CURRENT_LIST_DIR}/../edgetpu)
target_include_directories(${ProjectName} PUBLIC ${CMAKE_CURRENT_LIST_DIR}/../edgetpu/libedgetpu)
